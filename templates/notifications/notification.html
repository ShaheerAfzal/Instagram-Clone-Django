{% extends 'base.html' %} 
{% load static %}
{% load crispy_forms_tags %}
{% block content %}
<br><br>
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="{% static 'assets2/style.css' %}">
</head>

<body>
  <div id="wrapper">
    <div class="container">
      <div class="form-data">
        <form action="" method="POST" enctype="multipart/form-data">
          <div class="logo">
            <h3 style="padding-top: 5px; font-size: 20px;">Notifications</h3>
          </div>

          <!-- Notification Section -->
          {% for notification in notifications %}
              <div class="alert alert-white alert-dismissible fade show" role="alert" style="border: 1px rgba(219, 219, 219, 0.699) solid; border-radius: 25px;">
                  <div class="side-menu__user-profile">
                      <!-- Sender Profile Picture -->
                      <a href="{% url 'profile' notification.sender.username %}" class="side-menu__user-avatar">
                          {% if notification.sender.profile.image %}
                              <img src="{{ notification.sender.profile.image.url }}" alt="User Picture">
                          {% else %}
                              <img src="{% static 'assets1/default.jpg' %}" alt="User Picture">
                          {% endif %}
                      </a>

                      <!-- Notification Details -->
                      <div class="side-menu__user-info" style="text-align: start;">
                          <a href="{% url 'profile' notification.sender.username %}" style="font-size: 15px; color: black; text-align: center;">
                              {{ notification.sender.profile.first_name|title }} {{ notification.sender.profile.last_name|title }}
                          </a> 
                          <br>

                          {% if notification.notification_types == 1 %}
                              <b><i class="bi bi-hand-thumbs-up-fill" style="color: blue;"></i> Liked your 
                                  {% if notification.post %}
                                      post
                                  {% elif notification.reel %}
                                      reel
                                  {% endif %}
                              </b>
                          {% elif notification.notification_types == 2 %}
                              <b><i class="bi bi-chat-dots-fill" style="color: rgb(252, 122, 1);"></i> Commented on your 
                                  {% if notification.post %}
                                      post
                                  {% elif notification.reel %}
                                      reel
                                  {% endif %}
                              </b>
                          {% elif notification.notification_types == 3 %}
                              <b><i class="bi bi-person-plus-fill" style="color: green;"></i> Followed you</b>
                          {% elif notification.notification_types == 4 %}
                              <b><i class="bi bi-envelope-fill" style="color: purple;"></i> {{ notification.text_preview }}</b>
                              <br>
                              <a href="{% url 'directs' notification.sender.username %}" style="font-size: 12px; color: #007bff; text-decoration: none;">
                                  View message
                              </a>
                          {% endif %}
                          <br>

                          <small style="font-size: 10px; color: rgb(75, 75, 75);">{{ notification.date }}</small>
                      </div>

                      <!-- Post or Reel Thumbnail -->
                      {% if notification.post %}
                          <a href="{% url 'post-details' notification.post.id %}" class="side-menu__user-avatar" style="margin-left: 20px;">
                              <img src="{{ notification.post.picture.url }}" alt="Post Picture">
                          </a>
                      {% elif notification.reel %}
                          <a href="{% url 'reel-view' notification.reel.reel_id %}" class="side-menu__user-avatar" style="margin-left: 20px;">
                              <img src="{{ notification.reel.reel_cover.url }}" alt="Reel Cover">
                          </a>
                      {% endif %}
                  </div>

                  <!-- Delete Button -->
                  <a href="{% url 'delete-notification' notification.id %}" type="button" class="btn-close" aria-label="Close"></a>
              </div>
          {% endfor %}
          
        </form>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <div class="container">
        {% comment %} <nav class="footer-nav">
          <ul>
            <li><a href="#">About us</a></li>
            <li><a href="#">Support</a></li>
            <li><a href="#">Press</a></li>
            <li><a href="#">Api</a></li>
            <li><a href="#">Jobs</a></li>
            <li><a href="#">Privacy</a></li>
            <li><a href="#">Terms</a></li>
            <li><a href="#">Directory</a></li>
            <li><a href="#">Profiles</a></li>
            <li><a href="#">Hashtags</a></li>
            <li><a href="#">Languages</a></li>
          </ul>
        </nav> {% endcomment %}
        <div class="copyright-notice">
          &copy 2019 Instagram
        </div>
      </div>
    </footer>

  </div>

</body>

</html>
{% endblock content %}
